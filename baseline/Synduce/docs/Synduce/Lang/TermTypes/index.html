<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>TermTypes (Synduce.Lang.TermTypes)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">Synduce</a> &#x00BB; <a href="../index.html">Lang</a> &#x00BB; TermTypes</nav><header class="odoc-preamble"><h1>Module <code><span>Lang.TermTypes</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec module" id="module-O" class="anchored"><a href="#module-O" class="anchor"></a><code><span><span class="keyword">module</span> O</span><span> = <span class="xref-unresolved">Base</span>.Option</span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Attributes" class="anchored"><a href="#module-Attributes" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Attributes/index.html">Attributes</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Variables have unique integer ids but two variables can have the same name. Additional information can be added via variable attributes. For example, a variable can be a Terminal or a NonTerminal in the context of a pattern matching recursion scheme.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-variable" class="anchored"><a href="#type-variable" class="anchor"></a><code><span><span class="keyword">type</span> variable</span><span> = </span><span>{</span></code><table><tr id="type-variable.vname" class="anchored"><td class="def record field"><a href="#type-variable.vname" class="anchor"></a><code><span>vname : <span class="xref-unresolved">Base</span>.string;</span></code></td></tr><tr id="type-variable.vid" class="anchored"><td class="def record field"><a href="#type-variable.vid" class="anchor"></a><code><span>vid : <span class="xref-unresolved">Base</span>.int;</span></code></td></tr><tr id="type-variable.vattrs" class="anchored"><td class="def record field"><a href="#type-variable.vattrs" class="anchor"></a><code><span>vattrs : <a href="Attributes/index.html#type-t">Attributes.t</a>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-dummy_loc" class="anchored"><a href="#val-dummy_loc" class="anchor"></a><code><span><span class="keyword">val</span> dummy_loc : <span class="xref-unresolved">Stdlib</span>.Lexing.position * <span class="xref-unresolved">Stdlib</span>.Lexing.position</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-pp_nice" class="anchored"><a href="#val-pp_nice" class="anchor"></a><code><span><span class="keyword">val</span> pp_nice : <span>bool <span class="xref-unresolved">Base</span>.ref</span></span></code></div></div><p>Terms.</p><div class="odoc-spec"><div class="spec module" id="module-Binop" class="anchored"><a href="#module-Binop" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Binop/index.html">Binop</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Unop" class="anchored"><a href="#module-Unop" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Unop/index.html">Unop</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Operator" class="anchored"><a href="#module-Operator" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Operator/index.html">Operator</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-OpSet" class="anchored"><a href="#module-OpSet" class="anchor"></a><code><span><span class="keyword">module</span> <a href="OpSet/index.html">OpSet</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Constant" class="anchored"><a href="#module-Constant" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Constant/index.html">Constant</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-fpattern" class="anchored"><a href="#type-fpattern" class="anchor"></a><code><span><span class="keyword">type</span> fpattern</span><span> = </span></code><table><tr id="type-fpattern.FPatAny" class="anchored"><td class="def variant constructor"><a href="#type-fpattern.FPatAny" class="anchor"></a><code><span>| </span><span><span class="constructor">FPatAny</span></span></code></td></tr><tr id="type-fpattern.FPatVar" class="anchored"><td class="def variant constructor"><a href="#type-fpattern.FPatVar" class="anchor"></a><code><span>| </span><span><span class="constructor">FPatVar</span> <span class="keyword">of</span> <a href="#type-variable">variable</a></span></code></td></tr><tr id="type-fpattern.FPatTup" class="anchored"><td class="def variant constructor"><a href="#type-fpattern.FPatTup" class="anchor"></a><code><span>| </span><span><span class="constructor">FPatTup</span> <span class="keyword">of</span> <span><a href="#type-fpattern">fpattern</a> <span class="xref-unresolved">Base</span>.list</span></span></code></td></tr></table></div><div class="spec-doc"><p>Simple patterns for function arguments: a fpattern is either a variable or a tuple of patterns.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-pattern" class="anchored"><a href="#type-pattern" class="anchor"></a><code><span><span class="keyword">type</span> pattern</span><span> = </span></code><table><tr id="type-pattern.PatAny" class="anchored"><td class="def variant constructor"><a href="#type-pattern.PatAny" class="anchor"></a><code><span>| </span><span><span class="constructor">PatAny</span></span></code></td></tr><tr id="type-pattern.PatVar" class="anchored"><td class="def variant constructor"><a href="#type-pattern.PatVar" class="anchor"></a><code><span>| </span><span><span class="constructor">PatVar</span> <span class="keyword">of</span> <a href="#type-variable">variable</a></span></code></td></tr><tr id="type-pattern.PatConstant" class="anchored"><td class="def variant constructor"><a href="#type-pattern.PatConstant" class="anchor"></a><code><span>| </span><span><span class="constructor">PatConstant</span> <span class="keyword">of</span> <a href="Constant/index.html#type-t">Constant.t</a></span></code></td></tr><tr id="type-pattern.PatTuple" class="anchored"><td class="def variant constructor"><a href="#type-pattern.PatTuple" class="anchor"></a><code><span>| </span><span><span class="constructor">PatTuple</span> <span class="keyword">of</span> <span><a href="#type-pattern">pattern</a> <span class="xref-unresolved">Base</span>.list</span></span></code></td></tr><tr id="type-pattern.PatConstr" class="anchored"><td class="def variant constructor"><a href="#type-pattern.PatConstr" class="anchor"></a><code><span>| </span><span><span class="constructor">PatConstr</span> <span class="keyword">of</span> <span class="xref-unresolved">Base</span>.string * <span><a href="#type-pattern">pattern</a> <span class="xref-unresolved">Base</span>.list</span></span></code></td></tr></table></div><div class="spec-doc"><p>More complex patterns are used in match-cases. In the current implementation, this is only used as a way to translate a PMRS back to a set of mutually recursive functions.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-termkind" class="anchored"><a href="#type-termkind" class="anchor"></a><code><span><span class="keyword">type</span> termkind</span><span> = </span></code><table><tr id="type-termkind.TApp" class="anchored"><td class="def variant constructor"><a href="#type-termkind.TApp" class="anchor"></a><code><span>| </span><span><span class="constructor">TApp</span> <span class="keyword">of</span> <a href="#type-term">term</a> * <span><a href="#type-term">term</a> <span class="xref-unresolved">Base</span>.list</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>A function application.</p><span class="comment-delim">*)</span></td></tr><tr id="type-termkind.TBin" class="anchored"><td class="def variant constructor"><a href="#type-termkind.TBin" class="anchor"></a><code><span>| </span><span><span class="constructor">TBin</span> <span class="keyword">of</span> <a href="Binop/index.html#type-t">Binop.t</a> * <a href="#type-term">term</a> * <a href="#type-term">term</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>A binary operation.</p><span class="comment-delim">*)</span></td></tr><tr id="type-termkind.TBox" class="anchored"><td class="def variant constructor"><a href="#type-termkind.TBox" class="anchor"></a><code><span>| </span><span><span class="constructor">TBox</span> <span class="keyword">of</span> <a href="#type-term">term</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>A boxed term, used in transformation to &quot;protect&quot; its contents.</p><span class="comment-delim">*)</span></td></tr><tr id="type-termkind.TConst" class="anchored"><td class="def variant constructor"><a href="#type-termkind.TConst" class="anchor"></a><code><span>| </span><span><span class="constructor">TConst</span> <span class="keyword">of</span> <a href="Constant/index.html#type-t">Constant.t</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>A constant.</p><span class="comment-delim">*)</span></td></tr><tr id="type-termkind.TData" class="anchored"><td class="def variant constructor"><a href="#type-termkind.TData" class="anchor"></a><code><span>| </span><span><span class="constructor">TData</span> <span class="keyword">of</span> <span class="xref-unresolved">Base</span>.string * <span><a href="#type-term">term</a> <span class="xref-unresolved">Base</span>.list</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>A datatype constructor.</p><span class="comment-delim">*)</span></td></tr><tr id="type-termkind.TFun" class="anchored"><td class="def variant constructor"><a href="#type-termkind.TFun" class="anchor"></a><code><span>| </span><span><span class="constructor">TFun</span> <span class="keyword">of</span> <span><a href="#type-fpattern">fpattern</a> <span class="xref-unresolved">Base</span>.list</span> * <a href="#type-term">term</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>A function, where each argument capture by a f-pattern.</p><span class="comment-delim">*)</span></td></tr><tr id="type-termkind.TIte" class="anchored"><td class="def variant constructor"><a href="#type-termkind.TIte" class="anchor"></a><code><span>| </span><span><span class="constructor">TIte</span> <span class="keyword">of</span> <a href="#type-term">term</a> * <a href="#type-term">term</a> * <a href="#type-term">term</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>A conditional.</p><span class="comment-delim">*)</span></td></tr><tr id="type-termkind.TMatch" class="anchored"><td class="def variant constructor"><a href="#type-termkind.TMatch" class="anchor"></a><code><span>| </span><span><span class="constructor">TMatch</span> <span class="keyword">of</span> <a href="#type-term">term</a> * <span><a href="#type-match_case">match_case</a> <span class="xref-unresolved">Base</span>.list</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>A pattern matching construct.</p><span class="comment-delim">*)</span></td></tr><tr id="type-termkind.TSel" class="anchored"><td class="def variant constructor"><a href="#type-termkind.TSel" class="anchor"></a><code><span>| </span><span><span class="constructor">TSel</span> <span class="keyword">of</span> <a href="#type-term">term</a> * <span class="xref-unresolved">Base</span>.int</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>A tuple projection. TSet(TTup tl, i) is List.nth tl i.</p><span class="comment-delim">*)</span></td></tr><tr id="type-termkind.TTup" class="anchored"><td class="def variant constructor"><a href="#type-termkind.TTup" class="anchor"></a><code><span>| </span><span><span class="constructor">TTup</span> <span class="keyword">of</span> <span><a href="#type-term">term</a> <span class="xref-unresolved">Base</span>.list</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>A tuple.</p><span class="comment-delim">*)</span></td></tr><tr id="type-termkind.TUn" class="anchored"><td class="def variant constructor"><a href="#type-termkind.TUn" class="anchor"></a><code><span>| </span><span><span class="constructor">TUn</span> <span class="keyword">of</span> <a href="Unop/index.html#type-t">Unop.t</a> * <a href="#type-term">term</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>A unary operation.</p><span class="comment-delim">*)</span></td></tr><tr id="type-termkind.TVar" class="anchored"><td class="def variant constructor"><a href="#type-termkind.TVar" class="anchor"></a><code><span>| </span><span><span class="constructor">TVar</span> <span class="keyword">of</span> <a href="#type-variable">variable</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>A variable.</p><span class="comment-delim">*)</span></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-match_case" class="anchored"><a href="#type-match_case" class="anchor"></a><code><span><span class="keyword">and</span> match_case</span><span> = <a href="#type-pattern">pattern</a> * <a href="#type-term">term</a></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-term" class="anchored"><a href="#type-term" class="anchor"></a><code><span><span class="keyword">and</span> term</span><span> = </span><span>{</span></code><table><tr id="type-term.tpos" class="anchored"><td class="def record field"><a href="#type-term.tpos" class="anchor"></a><code><span>tpos : <span class="xref-unresolved">Stdlib</span>.Lexing.position * <span class="xref-unresolved">Stdlib</span>.Lexing.position;</span></code></td></tr><tr id="type-term.tkind" class="anchored"><td class="def record field"><a href="#type-term.tkind" class="anchor"></a><code><span>tkind : <a href="#type-termkind">termkind</a>;</span></code></td></tr><tr id="type-term.ttyp" class="anchored"><td class="def record field"><a href="#type-term.ttyp" class="anchor"></a><code><span>ttyp : <a href="../RType/index.html#type-t">RType.t</a>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-function_descr" class="anchored"><a href="#type-function_descr" class="anchor"></a><code><span><span class="keyword">type</span> function_descr</span><span> = </span><span>{</span></code><table><tr id="type-function_descr.f_var" class="anchored"><td class="def record field"><a href="#type-function_descr.f_var" class="anchor"></a><code><span>f_var : <a href="#type-variable">variable</a>;</span></code></td></tr><tr id="type-function_descr.f_args" class="anchored"><td class="def record field"><a href="#type-function_descr.f_args" class="anchor"></a><code><span>f_args : <span><a href="#type-pattern">pattern</a> <span class="xref-unresolved">Base</span>.list</span>;</span></code></td></tr><tr id="type-function_descr.f_body" class="anchored"><td class="def record field"><a href="#type-function_descr.f_body" class="anchor"></a><code><span>f_body : <a href="#type-term">term</a>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Context" class="anchored"><a href="#module-Context" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Context/index.html">Context</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div></div></body></html>