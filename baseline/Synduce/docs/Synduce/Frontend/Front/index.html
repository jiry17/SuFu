<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Front (Synduce.Frontend.Front)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">Synduce</a> &#x00BB; <a href="../index.html">Frontend</a> &#x00BB; Front</nav><header class="odoc-preamble"><h1>Module <code><span>Frontend.Front</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-loc" class="anchored"><a href="#type-loc" class="anchor"></a><code><span><span class="keyword">type</span> loc</span><span> = <span class="xref-unresolved">Stdlib</span>.Lexing.position * <span class="xref-unresolved">Stdlib</span>.Lexing.position</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-id" class="anchored"><a href="#type-id" class="anchor"></a><code><span><span class="keyword">type</span> id</span><span> = <span class="xref-unresolved">Base</span>.string</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-type_decl" class="anchored"><a href="#type-type_decl" class="anchor"></a><code><span><span class="keyword">type</span> type_decl</span><span> = </span></code><table><tr id="type-type_decl.TDParametric" class="anchored"><td class="def variant constructor"><a href="#type-type_decl.TDParametric" class="anchor"></a><code><span>| </span><span><span class="constructor">TDParametric</span> <span class="keyword">of</span> <span><a href="#type-id">id</a> <span class="xref-unresolved">Base</span>.list</span> * <a href="#type-id">id</a> * <a href="../../Lang/RType/index.html#type-type_term">Lang.RType.type_term</a></span></code></td></tr><tr id="type-type_decl.TDSimple" class="anchored"><td class="def variant constructor"><a href="#type-type_decl.TDSimple" class="anchor"></a><code><span>| </span><span><span class="constructor">TDSimple</span> <span class="keyword">of</span> <a href="#type-id">id</a> * <a href="../../Lang/RType/index.html#type-type_term">Lang.RType.type_term</a></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-termkind" class="anchored"><a href="#type-termkind" class="anchor"></a><code><span><span class="keyword">type</span> termkind</span><span> = </span></code><table><tr id="type-termkind.FTConst" class="anchored"><td class="def variant constructor"><a href="#type-termkind.FTConst" class="anchor"></a><code><span>| </span><span><span class="constructor">FTConst</span> <span class="keyword">of</span> <a href="../../Lang/Term/Constant/index.html#type-t">Lang.Term.Constant.t</a></span></code></td></tr><tr id="type-termkind.FTApp" class="anchored"><td class="def variant constructor"><a href="#type-termkind.FTApp" class="anchor"></a><code><span>| </span><span><span class="constructor">FTApp</span> <span class="keyword">of</span> <a href="#type-term">term</a> * <span><a href="#type-term">term</a> <span class="xref-unresolved">Base</span>.list</span></span></code></td></tr><tr id="type-termkind.FTData" class="anchored"><td class="def variant constructor"><a href="#type-termkind.FTData" class="anchor"></a><code><span>| </span><span><span class="constructor">FTData</span> <span class="keyword">of</span> <a href="#type-id">id</a> * <span><a href="#type-term">term</a> <span class="xref-unresolved">Base</span>.list</span></span></code></td></tr><tr id="type-termkind.FTVar" class="anchored"><td class="def variant constructor"><a href="#type-termkind.FTVar" class="anchor"></a><code><span>| </span><span><span class="constructor">FTVar</span> <span class="keyword">of</span> <a href="#type-id">id</a></span></code></td></tr><tr id="type-termkind.FTAny" class="anchored"><td class="def variant constructor"><a href="#type-termkind.FTAny" class="anchor"></a><code><span>| </span><span><span class="constructor">FTAny</span></span></code></td></tr><tr id="type-termkind.FTTup" class="anchored"><td class="def variant constructor"><a href="#type-termkind.FTTup" class="anchor"></a><code><span>| </span><span><span class="constructor">FTTup</span> <span class="keyword">of</span> <span><a href="#type-term">term</a> <span class="xref-unresolved">Base</span>.list</span></span></code></td></tr><tr id="type-termkind.FTLet" class="anchored"><td class="def variant constructor"><a href="#type-termkind.FTLet" class="anchor"></a><code><span>| </span><span><span class="constructor">FTLet</span> <span class="keyword">of</span> <a href="#type-term">term</a> * <a href="#type-term">term</a> * <a href="#type-term">term</a></span></code></td></tr><tr id="type-termkind.FTFun" class="anchored"><td class="def variant constructor"><a href="#type-termkind.FTFun" class="anchor"></a><code><span>| </span><span><span class="constructor">FTFun</span> <span class="keyword">of</span> <span><a href="#type-term">term</a> <span class="xref-unresolved">Base</span>.list</span> * <a href="#type-term">term</a></span></code></td></tr><tr id="type-termkind.FTBin" class="anchored"><td class="def variant constructor"><a href="#type-termkind.FTBin" class="anchor"></a><code><span>| </span><span><span class="constructor">FTBin</span> <span class="keyword">of</span> <a href="../../Lang/Term/Binop/index.html#type-t">Lang.Term.Binop.t</a> * <a href="#type-term">term</a> * <a href="#type-term">term</a></span></code></td></tr><tr id="type-termkind.FTHOBin" class="anchored"><td class="def variant constructor"><a href="#type-termkind.FTHOBin" class="anchor"></a><code><span>| </span><span><span class="constructor">FTHOBin</span> <span class="keyword">of</span> <a href="../../Lang/Term/Binop/index.html#type-t">Lang.Term.Binop.t</a></span></code></td></tr><tr id="type-termkind.FTUn" class="anchored"><td class="def variant constructor"><a href="#type-termkind.FTUn" class="anchor"></a><code><span>| </span><span><span class="constructor">FTUn</span> <span class="keyword">of</span> <a href="../../Lang/Term/Unop/index.html#type-t">Lang.Term.Unop.t</a> * <a href="#type-term">term</a></span></code></td></tr><tr id="type-termkind.FTIte" class="anchored"><td class="def variant constructor"><a href="#type-termkind.FTIte" class="anchor"></a><code><span>| </span><span><span class="constructor">FTIte</span> <span class="keyword">of</span> <a href="#type-term">term</a> * <a href="#type-term">term</a> * <a href="#type-term">term</a></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-term" class="anchored"><a href="#type-term" class="anchor"></a><code><span><span class="keyword">and</span> term</span><span> = </span><span>{</span></code><table><tr id="type-term.pos" class="anchored"><td class="def record field"><a href="#type-term.pos" class="anchor"></a><code><span>pos : <span class="xref-unresolved">Stdlib</span>.Lexing.position * <span class="xref-unresolved">Stdlib</span>.Lexing.position;</span></code></td></tr><tr id="type-term.kind" class="anchored"><td class="def record field"><a href="#type-term.kind" class="anchor"></a><code><span>kind : <a href="#type-termkind">termkind</a>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mk_const" class="anchored"><a href="#val-mk_const" class="anchor"></a><code><span><span class="keyword">val</span> mk_const : 
  <span><span>(<span class="xref-unresolved">Stdlib</span>.Lexing.position * <span class="xref-unresolved">Stdlib</span>.Lexing.position)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Lang/Term/Constant/index.html#type-t">Lang.Term.Constant.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-term">term</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mk_app" class="anchored"><a href="#val-mk_app" class="anchor"></a><code><span><span class="keyword">val</span> mk_app : 
  <span><span>(<span class="xref-unresolved">Stdlib</span>.Lexing.position * <span class="xref-unresolved">Stdlib</span>.Lexing.position)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-term">term</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="#type-term">term</a> <span class="xref-unresolved">Base</span>.list</span> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-term">term</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mk_data" class="anchored"><a href="#val-mk_data" class="anchor"></a><code><span><span class="keyword">val</span> mk_data : 
  <span><span>(<span class="xref-unresolved">Stdlib</span>.Lexing.position * <span class="xref-unresolved">Stdlib</span>.Lexing.position)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-id">id</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="#type-term">term</a> <span class="xref-unresolved">Base</span>.list</span> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-term">term</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mk_var" class="anchored"><a href="#val-mk_var" class="anchor"></a><code><span><span class="keyword">val</span> mk_var : 
  <span><span>(<span class="xref-unresolved">Stdlib</span>.Lexing.position * <span class="xref-unresolved">Stdlib</span>.Lexing.position)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Base</span>.string <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-term">term</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mk_any" class="anchored"><a href="#val-mk_any" class="anchor"></a><code><span><span class="keyword">val</span> mk_any : <span><span>(<span class="xref-unresolved">Stdlib</span>.Lexing.position * <span class="xref-unresolved">Stdlib</span>.Lexing.position)</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-term">term</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mk_bin" class="anchored"><a href="#val-mk_bin" class="anchor"></a><code><span><span class="keyword">val</span> mk_bin : 
  <span><span>(<span class="xref-unresolved">Stdlib</span>.Lexing.position * <span class="xref-unresolved">Stdlib</span>.Lexing.position)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Lang/Term/Binop/index.html#type-t">Lang.Term.Binop.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-term">term</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-term">term</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-term">term</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mk_un" class="anchored"><a href="#val-mk_un" class="anchor"></a><code><span><span class="keyword">val</span> mk_un : 
  <span><span>(<span class="xref-unresolved">Stdlib</span>.Lexing.position * <span class="xref-unresolved">Stdlib</span>.Lexing.position)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Lang/Term/Unop/index.html#type-t">Lang.Term.Unop.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-term">term</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-term">term</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mk_ite" class="anchored"><a href="#val-mk_ite" class="anchor"></a><code><span><span class="keyword">val</span> mk_ite : 
  <span><span>(<span class="xref-unresolved">Stdlib</span>.Lexing.position * <span class="xref-unresolved">Stdlib</span>.Lexing.position)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-term">term</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-term">term</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-term">term</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-term">term</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mk_tup" class="anchored"><a href="#val-mk_tup" class="anchor"></a><code><span><span class="keyword">val</span> mk_tup : 
  <span><span>(<span class="xref-unresolved">Stdlib</span>.Lexing.position * <span class="xref-unresolved">Stdlib</span>.Lexing.position)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="#type-term">term</a> <span class="xref-unresolved">Base</span>.list</span> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-term">term</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mk_fun" class="anchored"><a href="#val-mk_fun" class="anchor"></a><code><span><span class="keyword">val</span> mk_fun : 
  <span><span>(<span class="xref-unresolved">Stdlib</span>.Lexing.position * <span class="xref-unresolved">Stdlib</span>.Lexing.position)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="#type-term">term</a> <span class="xref-unresolved">Base</span>.list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-term">term</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-term">term</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mk_let" class="anchored"><a href="#val-mk_let" class="anchor"></a><code><span><span class="keyword">val</span> mk_let : 
  <span><span>(<span class="xref-unresolved">Stdlib</span>.Lexing.position * <span class="xref-unresolved">Stdlib</span>.Lexing.position)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-term">term</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-term">term</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-term">term</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-term">term</a></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-pmrs_rule" class="anchored"><a href="#type-pmrs_rule" class="anchor"></a><code><span><span class="keyword">type</span> pmrs_rule</span><span> = <a href="#type-loc">loc</a> * <a href="#type-term">term</a> * <a href="#type-term">term</a></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-pmrs_body" class="anchored"><a href="#type-pmrs_body" class="anchor"></a><code><span><span class="keyword">type</span> pmrs_body</span><span> = <span><a href="#type-pmrs_rule">pmrs_rule</a> <span class="xref-unresolved">Base</span>.list</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-function_body" class="anchored"><a href="#type-function_body" class="anchor"></a><code><span><span class="keyword">type</span> function_body</span><span> = </span></code><table><tr id="type-function_body.PmrsBody" class="anchored"><td class="def variant constructor"><a href="#type-function_body.PmrsBody" class="anchor"></a><code><span>| </span><span><span class="constructor">PmrsBody</span> <span class="keyword">of</span> <a href="#type-loc">loc</a> * <a href="#type-pmrs_body">pmrs_body</a></span></code></td></tr><tr id="type-function_body.ExprBody" class="anchored"><td class="def variant constructor"><a href="#type-function_body.ExprBody" class="anchor"></a><code><span>| </span><span><span class="constructor">ExprBody</span> <span class="keyword">of</span> <a href="#type-loc">loc</a> * <a href="#type-term">term</a></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-definition" class="anchored"><a href="#type-definition" class="anchor"></a><code><span><span class="keyword">type</span> definition</span><span> = </span></code><table><tr id="type-definition.TypeDef" class="anchored"><td class="def variant constructor"><a href="#type-definition.TypeDef" class="anchor"></a><code><span>| </span><span><span class="constructor">TypeDef</span> <span class="keyword">of</span> <a href="#type-loc">loc</a> * <a href="#type-type_decl">type_decl</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>A type definition.</p><span class="comment-delim">*)</span></td></tr><tr id="type-definition.FunDef" class="anchored"><td class="def variant constructor"><a href="#type-definition.FunDef" class="anchor"></a><code><span>| </span><span><span class="constructor">FunDef</span> <span class="keyword">of</span> <a href="#type-loc">loc</a> * <a href="#type-id">id</a> * <span><a href="#type-id">id</a> <span class="xref-unresolved">Base</span>.list</span> * <span><a href="#type-term">term</a> <span class="xref-unresolved">Base</span>.option</span> * <a href="#type-term">term</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>A function definition.</p><span class="comment-delim">*)</span></td></tr><tr id="type-definition.PMRSDef" class="anchored"><td class="def variant constructor"><a href="#type-definition.PMRSDef" class="anchor"></a><code><span>| </span><span><span class="constructor">PMRSDef</span> <span class="keyword">of</span> <a href="#type-loc">loc</a>
  * <span><a href="#type-id">id</a> <span class="xref-unresolved">Base</span>.list</span>
  * <a href="#type-id">id</a>
  * <span><a href="#type-id">id</a> <span class="xref-unresolved">Base</span>.list</span>
  * <span><a href="#type-term">term</a> <span class="xref-unresolved">Base</span>.option</span>
  * <span><a href="#type-term">term</a> <span class="xref-unresolved">Base</span>.option</span>
  * <a href="#type-pmrs_body">pmrs_body</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>A PMRS declaration (loc, syntobjs, name, params, p_requires, p_ensures, body) is a PMRS where:</p><ul><li>loc is a location</li><li>syntobjs is a list of identifiers of the objects to be synthesized,</li><li>name is the name of the function,</li><li>params is a list of identifiers of the parameters of the PMRS, i.e. all the arguments except the last argument that is decomposed in the recursion.</li><li>p_requires is a predicate from the input type of the PMRS (last arg of the function) to bool, corresponding to the predicate that the inputs must satsify.</li><li>p_ensures is a predicate on the output type. Every element in the image of the function must satsify this predicate.</li></ul><span class="comment-delim">*)</span></td></tr><tr id="type-definition.CamlPMRSDef" class="anchored"><td class="def variant constructor"><a href="#type-definition.CamlPMRSDef" class="anchor"></a><code><span>| </span><span><span class="constructor">CamlPMRSDef</span> <span class="keyword">of</span> <a href="#type-loc">loc</a>
  * <span><a href="#type-id">id</a> <span class="xref-unresolved">Base</span>.list</span>
  * <span><a href="#type-term">term</a> <span class="xref-unresolved">Base</span>.option</span>
  * <span><a href="#type-term">term</a> <span class="xref-unresolved">Base</span>.option</span>
  * <span><span>(<a href="#type-id">id</a> * <span><a href="#type-id">id</a> <span class="xref-unresolved">Base</span>.list</span> * <a href="#type-function_body">function_body</a>)</span> <span class="xref-unresolved">Base</span>.list</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>TODO: Remove once Caml syntax is fuylly supported.</p><span class="comment-delim">*)</span></td></tr><tr id="type-definition.SyntObjDecl" class="anchored"><td class="def variant constructor"><a href="#type-definition.SyntObjDecl" class="anchor"></a><code><span>| </span><span><span class="constructor">SyntObjDecl</span> <span class="keyword">of</span> <a href="#type-loc">loc</a> * <a href="#type-definition">definition</a> * <a href="#type-id">id</a> * <a href="#type-id">id</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Declares a synthesis objective: SyntObjDecl(loc, decl, f1, f2 ) specifies that the function defined by decl must be equivalent to f1 composed with f2.</p><span class="comment-delim">*)</span></td></tr><tr id="type-definition.EnsuresDef" class="anchored"><td class="def variant constructor"><a href="#type-definition.EnsuresDef" class="anchor"></a><code><span>| </span><span><span class="constructor">EnsuresDef</span> <span class="keyword">of</span> <a href="#type-loc">loc</a> * <a href="#type-id">id</a> * <a href="#type-term">term</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Adds an ensures to a function symbol id.</p><span class="comment-delim">*)</span></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-program" class="anchored"><a href="#type-program" class="anchor"></a><code><span><span class="keyword">type</span> program</span><span> = <span><a href="#type-definition">definition</a> <span class="xref-unresolved">Base</span>.list</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-pp_fterm" class="anchored"><a href="#val-pp_fterm" class="anchor"></a><code><span><span class="keyword">val</span> pp_fterm : <span><a href="#type-term">term</a> <span class="xref-unresolved">Fmt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-make_rules" class="anchored"><a href="#val-make_rules" class="anchor"></a><code><span><span class="keyword">val</span> make_rules : 
  <span><span><span>(<span class="xref-unresolved">Base</span>.string * <span><span class="xref-unresolved">Base</span>.string <span class="xref-unresolved">Base</span>.List.t</span> * <a href="#type-function_body">function_body</a>)</span> <span class="xref-unresolved">Base</span>.List.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="#type-loc">loc</a> * <a href="#type-term">term</a> * <a href="#type-term">term</a>)</span> <span class="xref-unresolved">Base</span>.List.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-rebuild_pmrs_decl" class="anchored"><a href="#val-rebuild_pmrs_decl" class="anchor"></a><code><span><span class="keyword">val</span> rebuild_pmrs_decl : 
  <span><a href="#type-loc">loc</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="#type-id">id</a> <span class="xref-unresolved">Base</span>.list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="#type-term">term</a> <span class="xref-unresolved">Base</span>.option</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="#type-term">term</a> <span class="xref-unresolved">Base</span>.option</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="xref-unresolved">Base</span>.string * <span><span class="xref-unresolved">Base</span>.string <span class="xref-unresolved">Base</span>.List.t</span> * <a href="#type-function_body">function_body</a>)</span> <span class="xref-unresolved">Base</span>.List.t</span> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-definition">definition</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-preprocess" class="anchored"><a href="#val-preprocess" class="anchor"></a><code><span><span class="keyword">val</span> preprocess : 
  <span><a href="#type-program">program</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-program">program</a>
  * <span><span>(<a href="../../Lang/RType/index.html#type-ident">Lang.RType.ident</a> * <a href="../../Lang/RType/index.html#type-ident">Lang.RType.ident</a> * <a href="../../Lang/RType/index.html#type-ident">Lang.RType.ident</a>)</span> <span class="xref-unresolved">Base</span>.option</span></span></code></div></div></div></body></html>